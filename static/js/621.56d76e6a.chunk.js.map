{"version":3,"file":"static/js/621.56d76e6a.chunk.js","mappings":"wKAGIA,EAAUC,QACZ,iBACQ,8BAGcC,WAAWC,YAC3BD,iBACME,EAAAA,EAAAA,MACED,YAAY,kBACzB,EARD,GAYK,IAAME,EAAwBC,oG,+DCb/BC,EACyB,qBAAtBL,WAAWM,QAC6B,qBAAvCN,WAAmBO,gBAE7B,eAAsBL,IAKpB,MAAM,WAAEM,GAAeR,WAAWS,QAAQC,iBACxC,uBAEF,OAAOC,EAAAA,EAAAA,GACLH,EAEJ,CAEO,SAAST,EAAOa,GACjBP,EACF,YACEQ,EAAAA,EAAAA,GAAcD,QAAWV,IAC1B,EAFD,IAIAW,EAAAA,EAAAA,GAAcD,EAElB,C","sources":["../node_modules/cubing/src/cubing/search/worker-workarounds/search-worker-entry.js","../node_modules/cubing/src/cubing/vendor/apache/comlink-everywhere/inside/index.ts"],"sourcesContent":["import { nodeEndpointPort } from \"../../vendor/apache/comlink-everywhere/inside/index\";\nimport { exposeAPI } from \"./worker-guard\";\n\nif (exposeAPI.expose) {\n  (async () => {\n    await import(\"../inside\");\n\n    // Workaround for `node`\n    const messagePort = globalThis.postMessage\n      ? globalThis\n      : await nodeEndpointPort();\n    messagePort.postMessage(\"comlink-exposed\"); // TODO: remove this\n  })();\n}\n\n// Workaround for `esbuild`: https://github.com/evanw/esbuild/issues/312#issuecomment-1092195778\nexport const WORKER_ENTRY_FILE_URL = import.meta.url;\n","import { expose as comlinkExpose } from \"comlink\";\nimport nodeEndpoint from \"../node-adapter\";\n\nconst useNodeWorkarounds =\n  typeof globalThis.Worker === \"undefined\" &&\n  typeof (globalThis as any).WorkerNavigator === \"undefined\";\n\nexport async function nodeEndpointPort(): Promise<\n  Worker & {\n    nodeWorker?: import(\"node:worker_threads\").Worker;\n  }\n> {\n  const { parentPort } = globalThis.process.getBuiltinModule(\n    \"node:worker_threads\",\n  );\n  return nodeEndpoint(\n    parentPort as unknown as import(\"node:worker_threads\").Worker,\n  );\n}\n\nexport function expose(api: any) {\n  if (useNodeWorkarounds) {\n    (async () => {\n      comlinkExpose(api, await nodeEndpointPort());\n    })();\n  } else {\n    comlinkExpose(api);\n  }\n}\n"],"names":["exposeAPI","expose","globalThis","postMessage","nodeEndpointPort","WORKER_ENTRY_FILE_URL","import","useNodeWorkarounds","Worker","WorkerNavigator","parentPort","process","getBuiltinModule","node_adapter_default","api","comlinkExpose"],"sourceRoot":""}